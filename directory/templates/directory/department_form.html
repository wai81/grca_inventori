{% extends "layouts/base.html" %}
{% block title %}{% if object %}Редактирование подразделения{% else %}Создание подразделения{% endif %}{% endblock %}

{% block content %}
<div class="pc-container"><div class="pc-content">

  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">{% if object %}Редактирование подразделения{% else %}Создание подразделения{% endif %}</h5>
      <a class="btn btn-outline-secondary" href="{% url 'directory:department_list' %}">Назад</a>
    </div>

    <div class="card-body">
      <form method="post" class="row g-3">
        {% csrf_token %}

        <div class="col-12 col-md-6">
          <label class="form-label" for="{{ form.organization.id_for_label }}">Организация</label>
          {{ form.organization }}
          {% if form.organization.errors %}<div class="invalid-feedback d-block">{{ form.organization.errors|striptags }}</div>{% endif %}
        </div>

        <div class="col-12 col-md-6">
          <label class="form-label" for="{{ form.name.id_for_label }}">Подразделение</label>
          {{ form.name }}
          {% if form.name.errors %}<div class="invalid-feedback d-block">{{ form.name.errors|striptags }}</div>{% endif %}
        </div>

        <div class="col-12">
          <div class="form-check">
            {{ form.active }}
            <label class="form-check-label" for="{{ form.active.id_for_label }}">Активно</label>
          </div>
          {% if form.active.errors %}<div class="invalid-feedback d-block">{{ form.active.errors|striptags }}</div>{% endif %}
        </div>

        <div class="col-12 d-flex gap-2">
          <button class="btn btn-primary" type="submit">Сохранить</button>
          <a class="btn btn-outline-secondary" href="{% url 'directory:department_list' %}">Отмена</a>
        </div>
      </form>
    </div>
  </div>

</div></div>
{% endblock %}