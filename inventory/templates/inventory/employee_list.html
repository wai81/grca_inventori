{% extends "layouts/base.html" %}
{% block title %}Сотрудники{% endblock %}
{% block content %}
<h1>Сотрудники</h1>

<div class="filter no-print">
  <form method="get">
    {{ filter.form.as_p }}
    <button type="submit">Фильтровать</button>
    <a href="{% url 'inventory:employee_list' %}">Сброс</a>
    <span style="float:right">
{#      <a href="{% url 'inventory:employee_print' %}?{{ request.GET.urlencode }}">Печать текущего фильтра</a>#}
        <a href="{% url 'inventory:employee_list_pdf' %}?{{ request.GET.urlencode }}">PDF по текущему фильтру</a>
    </span>
  </form>
</div>

<p class="muted">Найдено: {{ page_obj.paginator.count }}</p>

<table>
  <thead>
    <tr>
      <th>ФИО</th>
      <th>Подразделение</th>
      <th>Организация</th>
      <th>Email</th>
      <th>Телефон</th>
      <th>Активен</th>
    </tr>
  </thead>
  <tbody>
  {% for obj in page_obj %}
    <tr>
      <td>{{ obj.full_name }}</td>
      <td>{{ obj.department }}</td>
      <td>{{ obj.organization }}</td>
      <td>{{ obj.email|default:"—" }}</td>
      <td>{{ obj.phone|default:"—" }}</td>
      <td>{% if obj.active %}да{% else %}нет{% endif %}</td>
    </tr>
  {% empty %}
    <tr><td colspan="6">Нет данных</td></tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}